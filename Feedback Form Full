<html>
    <head>
        <title>Feedback Form</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <style>
            
            @import url('https://fonts.googleapis.com/css2?family=Secular+One&display=swap');
            html{
                scroll-behavior: smooth;
            }
            body {
                background-image: url("website_back.webp");
                font-family: 'Secular One', sans-serif;
                padding: 10px;
            }
            p{
                text-align: center;
                font-size: 20px;
                color: rgb(209, 183, 233);
            }
	    h1{
		text-align:center;
		color:rgb(209, 183, 233);
	    }
            .centre_align{
                display: flex;
                justify-content: center;
            }
            .name{
                width:320px;
                height:30px;
                text-align: center;
                font-size: 20px;
                border-radius: 5px;
                border-style: none;
                outline: none;
                font-family: 'Secular One', sans-serif;
                color: black;
                padding:5px
            }
            .name1{
                text-align: center;
                font-size: 20px;
                border-radius: 5px;
                border-style: none;
                outline: none;
                font-family: 'Secular One', sans-serif;
                
            }
            div.transbox {
                opacity:0.3;
            }
            .ima{
                mix-blend-mode: multiply;
                width:200px
            }
            .custom-select {
                position: relative;
                font-family: Arial;
                width:10px;
                border: 0px;
                border-radius: 2px;
                height: 10px;
                }

                .custom-select select {
                display:none; /hide original SELECT element:/
                }

                /style the arrow inside the select element:/
                .select-selected:after {
                position: absolute;
                content: "";
                top: 14px;
                right: 10px;
                width: 0;
                height: 0;
                border: 6px solid transparent;
                border-color: #fff transparent transparent transparent;
                }

                /point the arrow upwards when the select box is open (active):/
                .select-selected.select-arrow-active:after {
                border-color: transparent transparent #fff transparent;
                top: 7px;
                }

                /style the items (options), including the selected item:/
                .select-items div,.select-selected {
                color: #ffffff;
                padding: 8px 16px;
                border: 1px solid transparent;
                border-color: transparent transparent rgba(0, 0, 0, 0.1) transparent;
                cursor: pointer;
                user-select: none;
                }

                /style items (options):/
                .select-items {
                position: absolute;
                top: 100%;
                left: 0;
                right: 0;
                z-index: 99;
                }

                /hide the items when the select box is closed:/
                .select-hide {
                display: none;
                }

                .select-items div:hover, .same-as-selected {
                background-color: rgba(0, 0, 0, 0.1);
                }
        </style>
    </head>
    <body>
        <img src="logo.png" alt="Downloads/sADAP Logo" class="ima">
        <h1>Please fill up the feedback form
	    <p>This webpage was made by Debarun Banerjee
        <br>
        <form id="hmm">
            <p>Name:
            <div class="centre_align";>
                <div class="transbox">
            <input class="name" type="username" name="name" id="name" required><br>
            <br>
                </div>
            </div>
            <p>Please enter email id or mobile number:
            <div class="centre_align">
                <div class="transbox">
            <input type="text" name="emailmob" id="emailmob" class="name"><br>
            <br>
                </div>
            </div>
            <p>Please give rating from 1 to 5:
            <div class="centre_align">
            <div class="custom-select" style="width:200px;">
            <select name="option" id="option">
                <option value="5 star">5 star</option>
                <option value="4 star">4 star</option>
                <option value="3 star">3 star</option>
                <option value="2 star">2 star</option>
                <option value="1 star">1 star</option>
            </select>
            </div>
            </div>
	    <br>
            <p>Please enter feedback/comments
            <div class="centre_align">
                <div class="transbox">
            <textarea name="comments" rows="3" cols="50" id="comments" class="name1"></textarea><br><br>
                </div>  
            </div>
            <div class="centre_align">
            </form>
            <button id="submit">Submit</button><br>
            <button type="reset" value="Reset">Reset</button><br>
            </div>
    </body>
    <script src="//code.jquery.com/jquery-1.12.0.min.js"></script>
    <script>
    const submitBtn = document.getElementById("submit")

        

        submitBtn.addEventListener('click', () =>{

            var myInput = document.getElementById("name");
            if (myInput && myInput.value) {
                var nam = document.getElementById('name').value;
            var emailnum = document.getElementById("emailmob").value;
            var star = document.getElementById("option").value;
            var comment = document.getElementById("comments").value;
            console.log(nam);
            console.log(emailnum);
            console.log(star);
            console.log(comment);

            $.ajax({
                type : 'POST',
                url : 'done.php',
                data : {name : nam, emailmob : emailnum, option : star, comments : comment},
                success : function(ret){
                    console.log(ret);
                },
            }
            );
            alert("Form Submitted!!");
            document.getElementById("hmm").reset();
            }
            
    });
    </script>
    <script>
        var x, i, j, l, ll, selElmnt, a, b, c;
        /look for any elements with the class "custom-select":/
        x = document.getElementsByClassName("custom-select");
        l = x.length;
        for (i = 0; i < l; i++) {
          selElmnt = x[i].getElementsByTagName("select")[0];
          ll = selElmnt.length;
          /for each element, create a new DIV that will act as the selected item:/
          a = document.createElement("DIV");
          a.setAttribute("class", "select-selected");
          a.innerHTML = selElmnt.options[selElmnt.selectedIndex].innerHTML;
          x[i].appendChild(a);
          /for each element, create a new DIV that will contain the option list:/
          b = document.createElement("DIV");
          b.setAttribute("class", "select-items select-hide");
          for (j = 1; j < ll; j++) {
            /*for each option in the original select element,
            create a new DIV that will act as an option item:*/
            c = document.createElement("DIV");
            c.innerHTML = selElmnt.options[j].innerHTML;
            c.addEventListener("click", function(e) {
                /*when an item is clicked, update the original select box,
                and the selected item:*/
                var y, i, k, s, h, sl, yl;
                s = this.parentNode.parentNode.getElementsByTagName("select")[0];
                sl = s.length;
                h = this.parentNode.previousSibling;
                for (i = 0; i < sl; i++) {
                  if (s.options[i].innerHTML == this.innerHTML) {
                    s.selectedIndex = i;
                    h.innerHTML = this.innerHTML;
                    y = this.parentNode.getElementsByClassName("same-as-selected");
                    yl = y.length;
                    for (k = 0; k < yl; k++) {
                      y[k].removeAttribute("class");
                    }
                    this.setAttribute("class", "same-as-selected");
                    break;
                  }
                }
                h.click();
            });
            b.appendChild(c);
          }
          x[i].appendChild(b);
          a.addEventListener("click", function(e) {
              /*when the select box is clicked, close any other select boxes,
              and open/close the current select box:*/
              e.stopPropagation();
              closeAllSelect(this);
              this.nextSibling.classList.toggle("select-hide");
              this.classList.toggle("select-arrow-active");
            });
        }
        function closeAllSelect(elmnt) {
          /*a function that will close all select boxes in the document,
          except the current select box:*/
          var x, y, i, xl, yl, arrNo = [];
          x = document.getElementsByClassName("select-items");
          y = document.getElementsByClassName("select-selected");
          xl = x.length;
          yl = y.length;
          for (i = 0; i < yl; i++) {
            if (elmnt == y[i]) {
              arrNo.push(i)
            } else {
              y[i].classList.remove("select-arrow-active");
            }
          }
          for (i = 0; i < xl; i++) {
            if (arrNo.indexOf(i)) {
              x[i].classList.add("select-hide");
            }
          }
        }
        /*if the user clicks anywhere outside the select box,
        then close all select boxes:*/
        document.addEventListener("click", closeAllSelect);
        </script>
</html>
